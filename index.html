<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
@import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

:root {
  --bg-gradient: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
  --primary-color: #e91e63;
  --accent-color: #ff4081;
  --sparkle-color: #FFD700;
  --glow-color: #ffc0cb;
}
body {
  font-family: 'Poppins', sans-serif;
  background: var(--bg-gradient);
  margin: 0;
  padding: 30px 15px;
  box-sizing: border-box;
  min-height: 100vh;
  overflow-x: hidden;
}
#emoji-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: -1;
}
.container {
  background-color: rgba(255, 255, 255, 0.95);
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  text-align: center;
  max-width: 600px;
  margin: 0 auto;
  animation: fadeIn 1.5s ease-in-out;
}
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
h1 {
  font-family: 'Pacifico', cursive;
  color: var(--primary-color);
  font-size: clamp(2em, 8vw, 2.8em);
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}
p {
  color: #555;
  font-size: clamp(1em, 4vw, 1.1em);
  line-height: 1.6;
}
.surprise-box {
  background-color: var(--accent-color);
  color: white;
  padding: 15px 25px;
  border-radius: 50px;
  cursor: pointer;
  display: inline-block;
  margin-top: 20px;
  font-weight: 600;
  transition: transform 0.2s, box-shadow 0.2s;
}
.surprise-box:hover {
  transform: scale(1.05);
  box-shadow: 0 5px 15px rgba(233, 30, 99, 0.4);
}
.gift {
  display: none;
  margin-top: 25px;
  padding: 20px;
  background: #fff3f8;
  border-left: 5px solid var(--primary-color);
  border-radius: 10px;
  animation: slideIn 0.5s ease-out;
}
@keyframes slideIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
.gift-emoji {
  font-size: 3em;
}
.final-message img {
  max-width: 150px;
  border-radius: 15px;
  margin-top: 20px;
}
.floating-emoji {
  position: absolute;
  font-size: 2rem;
  top: -5vh;
  animation: fall linear infinite, glow 2s infinite alternate;
  text-shadow: 0 0 10px var(--accent-color), 0 0 20px var(--accent-color);
  pointer-events: none;
}
@keyframes fall { to { transform: translateY(105vh); } }
@keyframes glow { from { opacity: 0.5; } to { opacity: 1; } }
.sparkle {
  position: fixed;
  font-size: 1.5rem;
  color: var(--sparkle-color);
  pointer-events: none;
  animation: sparkle-anim 0.8s forwards;
  z-index: 1000;
}
@keyframes sparkle-anim {
  0% { transform: scale(1.5); opacity: 1; }
  100% { transform: scale(0) rotate(90deg); opacity: 0; }
}
.gift-box-container {
  margin-top: 20px;
  cursor: pointer;
  position: relative;
  display: inline-block;
  transition: transform 0.2s;
}
.gift-box-container:hover { transform: scale(1.1); }
.gift-box { font-size: 4em; display: block; }
.popping-emoji {
  position: absolute;
  font-size: 2em;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  animation: popUp 1s cubic-bezier(0.175, 0.885, 0.32, 1.27) forwards;
  z-index: 10;
}
.popping-emoji.trail {
  animation: popUpWithTrail 1.5s ease-out forwards;
}
@keyframes popUp {
  from { transform: translate(-50%, -50%) scale(0); }
  to { transform: translate(-50%, -150%) scale(1.2); opacity: 0; }
}
@keyframes popUpWithTrail {
  0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
  50% { transform: translate(var(--x), var(--y)) scale(1); opacity: 1; }
  100% { transform: translate(var(--x), var(--y)) scale(0.5); opacity: 0; }
}

/* üéÜ Firework style */
.firework-emoji {
  position: fixed;
  bottom: 0;
  font-size: 2.5rem;
  animation: shoot 1.8s ease-out forwards;
  text-shadow: 0 0 8px #fff, 0 0 20px #ff0, 0 0 30px #f0f;
  pointer-events: none;
  z-index: 2000;
}
@keyframes shoot {
  0%   { transform: translateY(0) scale(1); opacity: 1; }
  70%  { transform: translateY(-70vh) scale(1.3); opacity: 1; }
  100% { transform: translateY(-90vh) scale(0.5); opacity: 0; }
}

/* üß∏ Polo Teddy Surprise */
.polo-container {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 3000;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease-out;
}
.polo-container.visible {
  opacity: 1;
  pointer-events: auto;
}
.polo-emoji {
  font-size: 6rem;
  animation: instagramPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.27) forwards,
             pulseGlow 1.5s infinite alternate ease-in-out;
  will-change: transform, filter;
  filter: drop-shadow(0 0 10px var(--glow-color));
}
.polo-text {
  font-family: 'Press Start 2P', cursive;
  color: white;
  margin-bottom: 15px;
  font-size: 1.5rem;
  text-shadow: 2px 2px 4px black;
}
.polo-message {
  margin-top: 15px;
  color: white;
  text-align: center;
  max-width: 80%;
  font-size: 1rem;
}
.copy-btn {
  margin-top: 10px;
  padding: 10px 20px;
  background: hotpink;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: transform 0.2s;
}
.copy-btn:hover { transform: scale(1.05); }
@keyframes instagramPop {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.3); opacity: 1; }
  100% { transform: scale(1); }
}
@keyframes pulseGlow {
  from { filter: drop-shadow(0 0 10px var(--glow-color)) brightness(1); }
  to { filter: drop-shadow(0 0 25px var(--glow-color)) brightness(1.2); }
}
.falling-word {
  position: fixed;
  top: -50px;
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  font-size: clamp(1.2em, 5vw, 2em);
  color: white;
  text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ffc0cb;
  pointer-events: none;
  opacity: 0;
  animation: fallAndFade 4s ease-in forwards;
  z-index: 5000;
}
@keyframes fallAndFade {
  0%   { transform: translateY(0) rotate(0deg); opacity: 0; }
  20%  { opacity: 1; }
  80%  { transform: translateY(100vh) rotate(360deg); opacity: 1; }
  100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
}

/* Confetti Burst */
.confetti-popper {
  position: fixed;
  font-size: 2.5rem;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  animation: confettiBurst 2s ease-out forwards;
  pointer-events: none;
  z-index: 4000;
  text-shadow: 0 0 10px rgba(255,255,0,0.7), 0 0 20px rgba(255,100,0,0.5);
}
@keyframes confettiBurst {
  0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
  50% { transform: translate(var(--dx), var(--dy)) scale(1.2); opacity: 1; }
  100% { transform: translate(var(--dx), var(--dy)) scale(0.5); opacity: 0; }
}

/* Class for large popping emojis */
.big-emoji-pop {
  position: absolute;
  font-size: 6em;
  text-shadow: 0 0 15px hotpink, 0 0 30px hotpink;
  z-index: 100;
  /* Use CSS transition for a smooth effect */
  transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.27), opacity 0.5s ease-out;
}
</style>
</head>
<body>
  <audio id="bg-music" loop>
  <source src="https://github.com/0p1umbird/I-m-so-tuff/raw/refs/heads/main/beans%20(2).mp3">
</audio>
<div id="emoji-container"></div>
<div class="container" onmousemove="createSparkle(event.clientX, event.clientY)" ontouchmove="handleTouch(event)" ontouchstart="handleTouch(event)">
  <h1>Happy Birthday, Akhilaaaaaa!!!</h1>
  <p>To my sweetest and prettiest best friend! Click the boxes to open your gifts!ü§† ‚ú®</p>
  <div class="surprise-box" id="step1" onclick="revealGift('gift1', 'step1')">
    Click here for your first gift! üéÅ
  </div>
  <div class="gift" id="gift1">
    <div class="gift-emoji">üíå</div>
    <h2>Gift #1: A Shower of Compliments!</h2>
    <p> Because you deserve to hear it! You are one of the kindest, most genuine, and brightest people I know. Your smile is Gorgeious, and you make the world a better place just by being in it. Never forget how amazing you are! ü•∞</p>
    <div class="gift-box-container" onclick="popGiftBox(this, 'step2')">
      <span class="gift-box">üéÅ</span>
    </div>
  </div>
  <div class="gift" id="gift2">
    <div class="gift-emoji">ü§ó</div>
    <h2>Gift #2: A Giant Virtual Hug!</h2>
    <p>Since I can't be there in person, please accept this super-duper, extra-large virtual hug. I hope you feel all the warmth and happiness in the world today. Consider this a coupon for a real hug someday! ü§ó‚ù§Ô∏è</p>
    <div class="gift-box-container" onclick="popGiftBox(this, 'step3', true)">
      <span class="gift-box">üéÅ</span>
    </div>
  </div>
  <div class="gift" id="gift3">
    <div class="gift-emoji">üíñ</div>
    <h2>Gift #3: Endless Friendship!</h2>
    <p>My final gift is a promise of friendship and endless support. I'm so incredibly grateful to have you as my best friend. Thank you for all the laughter and memories. I can't wait to make more! üíñ</p>
    <div class="gift-box-container" onclick="popGiftBox(this, null, 'hearts')">
      <span class="gift-box">üéÅ</span>
    </div>
    <p class="final-message">Wishing you the happiest of birthdays, Akhila! I hope your day is as wonderful as you are. <br>Love you so muchü§óü•∞,you'll be always in my prayers,stay happy everytime pretty souls like you deserves to be!!üíù<br> <strong>(I Tried My Besttt!!üò≠ü§ßüòöü§ó) </strong></p>
  </div>
</div>

<div id="poloGift" class="polo-container">
  <div class="polo-text">Polo</div>
  <div class="polo-emoji">üß∏</div>
  <button class="copy-btn" onclick="copyTeddy()">Copy to Keyboard</button>
  <div class="polo-message">Grab this teddy!! Take this polo as my gift for you! Take care of it!!üò≠ :3</div>
</div>

<script>
const emojiContainer = document.getElementById('emoji-container');
const floatingEmojis = ['üíñ', 'üß∏', 'üéÄ', 'üç´', 'üéÇ', 'üéÉ', '‚ú®'];
const poppingEmojis = ['üç´', 'üß∏', 'üéÄ', 'üíå', 'üíñ'];
const fallingWords = ['you', 'are', 'the', 'best', 'you', 'are', 'precious', 'pretty', 'loved', 'kissable', 'cute', 'lovely', 'kind', 'sweet', 'amazing', 'beautiful', 'wonderful', 'prettiest'];

function revealGift(giftId, buttonId) {
  document.getElementById(giftId).style.display = 'block';
  document.getElementById(buttonId).style.display = 'none';
  document.getElementById(giftId).scrollIntoView({ behavior: 'smooth', block: 'start' });
}
function createFloatingEmoji() {
  const emoji = document.createElement('div');
  emoji.classList.add('floating-emoji');
  emoji.style.left = Math.random() * 100 + "vw";
  emoji.style.animationDuration = Math.random() * 3 + 5 + "s";
  emoji.innerText = floatingEmojis[Math.floor(Math.random() * floatingEmojis.length)];
  emojiContainer.appendChild(emoji);
  setTimeout(() => emoji.remove(), 8000);
}
function createSparkle(x, y) {
  const sparkle = document.createElement('div');
  sparkle.classList.add('sparkle');
  sparkle.innerText = '‚ú®';
  sparkle.style.left = x + 'px';
  sparkle.style.top = y + 'px';
  document.body.appendChild(sparkle);
  setTimeout(() => sparkle.remove(), 800);
}
function handleTouch(event) {
  const touch = event.touches[0];
  createSparkle(touch.clientX, touch.clientY);
}
let isThrottled = false;
document.addEventListener('mousemove', (e) => {
  if (!isThrottled) {
    createSparkle(e.clientX, e.clientY);
    isThrottled = true;
    setTimeout(() => { isThrottled = false; }, 50);
  }
});
function createRandomSparkle(x, y) {
  const sparkle = document.createElement('div');
  sparkle.classList.add('sparkle');
  sparkle.innerText = '‚ú®';
  sparkle.style.left = `${x + (Math.random() - 0.5) * 50}px`;
  sparkle.style.top = `${y + (Math.random() - 0.5) * 50}px`;
  document.body.appendChild(sparkle);
  setTimeout(() => sparkle.remove(), 800);
}
function createConfettiBurst() {
  const confettiEmojis = ['üéâ', 'üéä', '‚ú®', 'üåü', 'ü•≥'];
  const numConfetti = 30;
  for (let i = 0; i < numConfetti; i++) {
    const confetti = document.createElement('div');
    confetti.classList.add('confetti-popper');
    confetti.innerText = confettiEmojis[Math.floor(Math.random() * confettiEmojis.length)];

    const angle = Math.random() * 360;
    const distance = Math.random() * 200 + 50;
    const dx = distance * Math.cos(angle * Math.PI / 180);
    const dy = distance * Math.sin(angle * Math.PI / 180);
    confetti.style.setProperty('--dx', `${dx}px`);
    confetti.style.setProperty('--dy', `${dy}px`);

    document.body.appendChild(confetti);
    setTimeout(() => confetti.remove(), 2000);
  }
}

function launchFireworks() {
  const fireworks = ["üéÜ","üéá","üéÄ","üß∏",];
  for (let i = 0; i < 6; i++) {
    setTimeout(() => {
      const fw = document.createElement("div");
      fw.classList.add("firework-emoji");
      fw.innerText = fireworks[Math.floor(Math.random() * fireworks.length)];
      fw.style.left = Math.random() * 90 + "vw";
      document.body.appendChild(fw);
      setTimeout(() => fw.remove(), 2000);
    }, i * 400);
  }
}

function showPoloGift() {
  const poloGift = document.getElementById("poloGift");
  poloGift.style.display = 'flex';
  setTimeout(() => {
    poloGift.classList.add('visible');
  }, 10);
}
function copyTeddy() {
  navigator.clipboard.writeText("üß∏").then(() => {
    const copyBtn = document.querySelector('.copy-btn');
    const originalText = copyBtn.innerText;
    copyBtn.innerText = "Copied! üéâ";
    
    const poloGift = document.getElementById("poloGift");
    poloGift.classList.remove('visible');

    setTimeout(() => {
      copyBtn.innerText = originalText;
      poloGift.style.display = 'none';
      createConfettiBurst();
      setTimeout(startFallingWords, 1200);
    }, 600);
  }).catch(err => {
    console.error('Failed to copy text: ', err);
    alert('Oops! Could not copy the teddy. Please try again!');
  });
}
function startFallingWords() {
  let wordIndex = 0;
  const intervalId = setInterval(() => {
    if (wordIndex >= fallingWords.length) {
      clearInterval(intervalId);
      return;
    }

    const wordText = fallingWords[wordIndex];
    const wordElement = document.createElement('div');
    wordElement.classList.add('falling-word');
    wordElement.innerText = wordText;
    
    wordElement.style.left = Math.random() * 90 + "vw";
    wordElement.style.animationDuration = Math.random() * 3 + 4 + "s";

    document.body.appendChild(wordElement);
    
    setTimeout(() => wordElement.remove(), 7000);

    wordIndex++;
  }, 200);
}

// ü™Ñ New reusable function for smooth big emoji pop
function createAndAnimateBigEmoji(emojiChar, centerX, centerY, scaleFactor = 1) {
    const bigEmoji = document.createElement('div');
    bigEmoji.classList.add('big-emoji-pop');
    bigEmoji.innerText = emojiChar;
    bigEmoji.style.left = `${centerX}px`;
    bigEmoji.style.top = `${centerY}px`;
    
    // Set initial transform and opacity
    bigEmoji.style.transform = `translate(-50%, -50%) scale(0)`;
    bigEmoji.style.opacity = '0';

    document.body.appendChild(bigEmoji);

    // Force a browser reflow to ensure the initial state is rendered
    bigEmoji.offsetHeight;

    // Set the final state to trigger the transition
    bigEmoji.style.transform = `translate(-50%, -50%) scale(${scaleFactor})`;
    bigEmoji.style.opacity = '1';

    // Fade out and remove after a delay
    setTimeout(() => {
        bigEmoji.style.opacity = '0';
        bigEmoji.style.transform = `translate(-50%, -50%) scale(0)`;
    }, 1200);

    setTimeout(() => bigEmoji.remove(), 1700);
}

function popGiftBox(element, nextStepId, isHugBox=false) {
  const boxRect = element.getBoundingClientRect();
  const scrollY = window.scrollY || document.documentElement.scrollTop;
  const scrollX = window.scrollX || document.documentElement.scrollLeft;
  const centerX = boxRect.left + scrollX + boxRect.width / 2;
  const centerY = boxRect.top + scrollY + boxRect.height / 2;

  element.style.opacity = '0';
  element.style.transform = 'scale(0)';
  element.style.pointerEvents = 'none';

  let burstEmojis = poppingEmojis;
  
  if (isHugBox === true) {
    // Use the new function for the big 'ü§ó'
    createAndAnimateBigEmoji('ü§ó', centerX, centerY, 1);
    burstEmojis = ['‚ù§Ô∏è','üíñ','üíï','üíì','üíó'];
  } else if (isHugBox === 'hearts') {
    burstEmojis = ['‚ù§Ô∏è','üíñ','üíï','üíì','üíó','üíû','üíù','üíü'];
    
    // Use the new function for the big 'üíã' and 'üéóÔ∏è'
    createAndAnimateBigEmoji('üíã', centerX, centerY, 1.2);
    createAndAnimateBigEmoji('üéóÔ∏è', centerX + 50, centerY + 50, 1.2);

    launchFireworks();
    setTimeout(showPoloGift, 2500);
  }

  // Small emojis burst
  for (let i = 0; i < 15; i++) {
    setTimeout(() => {
      const emoji = document.createElement('div');
      emoji.classList.add('popping-emoji');
      emoji.innerText = burstEmojis[Math.floor(Math.random() * burstEmojis.length)];
      emoji.style.left = `${centerX}px`;
      emoji.style.top = `${centerY}px`;
      emoji.style.position = 'absolute';
      document.body.appendChild(emoji);

      const angle = Math.random() * 360;
      const distance = Math.random() * 150 + 50;
      const endX = centerX + distance * Math.cos(angle * Math.PI / 180);
      const endY = centerY + distance * Math.sin(angle * Math.PI / 180);

      emoji.style.setProperty('--x', `${endX - centerX}px`);
      emoji.style.setProperty('--y', `${endY - centerY}px`);
      emoji.classList.add('trail');
      setTimeout(() => emoji.remove(), 1500);
    }, i * 20);
  }

  if (nextStepId) {
    setTimeout(() => revealGift(nextStepId === 'step2' ? 'gift2' : 'gift3', nextStepId), 700);
  }
}
setInterval(createFloatingEmoji, 500);
</script>
</body>
  </html>
